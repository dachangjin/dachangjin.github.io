
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width,initial-scale=1.0,user-scalable=no">
    <title>Document</title>
    <link rel="stylesheet" href="./main.css">
   <script src="./main.js"></script>
</head>
<body>
    <h3>iOS本地 api测试</h3>
    
    <input type="text" name="" id="storage_key" placeholder="存储键">

    <input type="text" name="" id="storage_value" placeholder="存储值">

    <a href="javascript:setStorage();" class="button">存储</a>

    <input type="text" name="" id="get_storage_key" placeholder="获取键">

    <p id="get_storage_value">结果显示区域</p>

    <a href="javascript:getStorage();" class="button">获取</a>

    <img src="https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1592311432012&di=0cbb255bc109546e679ae3ef5e64288a&imgtype=0&src=http%3A%2F%2Fa3.att.hudong.com%2F14%2F75%2F01300000164186121366756803686.jpg" alt="" class="icon" id="webImg">

    
    <a href="javascript:saveImageToPhotosAlbum();" class="button">储存上方网络图片到相册</a>

    <a href="javascript:saveBase64ImageToAlbum();" class="button">储存base64图片到相册</a>

    <a href="javascript:takePhoto('saveImageFileToAblum');" class="button">拍照后储存到相册</a>

    <a href="javascript:takePhoto('getFileSize1');" class="button">拍照获取照片大小</a>

    <a href="javascript:takePhoto('compressPhoto');" class="button">拍照后压缩照片</a>



    <p id="loginResult">结果显示区域</p>

    <p id="origin_size"></p>

    <p id="compressed_size"></p>
    
   
    

   
<script>


    
    function saveImageToPhotosAlbum() {
        var url = document.getElementById("webImg").getAttribute("src");

        var params = {
            callback: 'callBack',
            data: {
                url:url
            }
        }
        window.__weappsNative.saveImageToPhotosAlbum(JSON.stringify(params));
    }



    function saveBase64ImageToAlbum() {
        var params = {
            callback: 'callBack',
            data: {
                base64: 'data:image/png;base64,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'
            }
        }
        window.__weappsNative.saveImageToPhotosAlbum(JSON.stringify(params));
    }

    function saveImageFileToAblum(err,res) {
        var result = document.getElementById("loginResult");
        res = JSON.parse(res);
        result.innerText = JSON.stringify(res);
        var params = {
            callback: "callBack",
            data: {
                filePath: res.tempFilePath
            }
        }
        window.__weappsNative.saveImageToPhotosAlbum(JSON.stringify(params));
    }

    function takePhoto(callback) {
        var params = {
            callback: callback,
            data: {
                sourceType: 'camera'
            }
        }
        window.__weappsNative.chooseImage(JSON.stringify(params));
    }


    function getFileSize1 (err,res) {
        res = JSON.parse(res);
        var params = {
            callback: 'callBack',
            data: {
                path: res.tempFilePath
            }
        }
        window.__weappsNative.getFileSize(JSON.stringify(params));
    }

    function compressPhoto(err,res) {
        res = JSON.parse(res);
        var params1 = {
            callback: "showOriginSize",
            data: {
                path: res.tempFilePath
            }
        }
        window.__weappsNative.getFileSize(JSON.stringify(params1));

        var params = {
            callback: 'compressedPath',
            data: {
                src: res.tempFilePath,
                quality: 1
            }
        }
        window.__weappsNative.compressImage(JSON.stringify(params));
    }

    function compressedPath(err,res) {
        res = JSON.parse(res);
        var params1 = {
            callback: "showCompressSize",
            data: {
                path: res.tempFilePath
            }
        }
        window.__weappsNative.getFileSize(JSON.stringify(params1));
    }

    function showOriginSize(err,res) {
        res = JSON.parse(res);
        document.getElementById("origin_size").innerText = "原始大小：" + res.size;
    }

    function showCompressSize(err,res) {
        res = JSON.parse(res);
        document.getElementById("compressed_size").innerText = "压缩后大小：" + res.size;    
    }

    

    window.__weappsNative.saveImageFileToAblum = saveImageFileToAblum;
    window.__weappsNative.getFileSize1 = getFileSize1;
    window.__weappsNative.compressPhoto = compressPhoto;
    window.__weappsNative.compressedPath = compressedPath;
    window.__weappsNative.showOriginSize = showOriginSize;
    window.__weappsNative.showCompressSize = showCompressSize;





</script>

</body>
</html>
